# å¾ˆå¤§å£°å‘¨åˆŠ-vol.156 | TangoFlux ï¼ˆæ–‡æœ¬åˆ°éŸ³é¢‘ç”Ÿæˆæ¨¡å‹ï¼‰ - æœ¬åœ°å®‰è£…

![Image](https://github.com/user-attachments/assets/fc1381ee-4db3-46c8-b889-762039d2f299)
[TangoFlux](https://github.com/declare-lab/TangoFlux) æ˜¯ç”± DeCLaRe å®éªŒå®¤å’Œ NVIDIA åˆä½œæ¨å‡ºçš„æ–‡æœ¬åˆ°éŸ³é¢‘ç”Ÿæˆæ¨¡å‹ï¼ˆ[åœ¨çº¿ä½“éªŒ](https://huggingface.co/spaces/declare-lab/TangoFlux)ï¼‰ã€‚

å¦‚æœä½ ä»äº‹å£°éŸ³ã€å½±åƒç±»å·¥ä½œï¼ŒTangoFlux ä¼šå¸¦æ¥å¾ˆå¤§çš„å¸®åŠ©ã€‚

æ–‡æ¡£ä¸­çš„æ–¹æ³•ç®€å•ä¸”ç¡¬æ ¸ï¼Œåœ¨ç¼ºå°‘å‰ç½®æ¡ä»¶çš„æƒ…å†µä¸‹å¾ˆå®¹æ˜“å‡ºé”™ï¼ŒæŠ˜è…¾å¥½ä¹…æ‰å®‰è£…æˆåŠŸï¼Œæˆ‘çŒœä¸æ­¢æœ‰æˆ‘åœ¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹å®Œæ•´çš„å®‰è£…è¿‡ç¨‹ã€‚

è¿™ä¸æ˜¯äºŒæ¬¡åŠ å·¥è¿‡çš„çš„â€œä¸€é”®å®‰è£…â€ç‰ˆæœ¬ï¼Œè€Œæ˜¯æœ€è´¨æœ´çš„å®‰è£…æ–¹å¼ï¼Œé€šè¿‡å®ƒå¯ä»¥æ›´å¤šäº†è§£å·¥å…·çš„åº•å±‚é€»è¾‘å’Œä¾èµ–å…³ç³»ï¼Œæˆ‘æƒ³è¿™ä¸ªè¿‡ç¨‹å¯¹æ¥ä¸‹æ¥æ¢ç´¢æ•´ä¸ªå¼€æºä¸–ç•Œéƒ½æœ‰ä¸€å®šå¸®åŠ©ã€‚

[TangoFlux æ–‡æ¡£](https://github.com/declare-lab/TangoFlux) ä¸­ä»è¿™é‡Œå¼€å§‹ï¼š
```
pip install git+https://github.com/declare-lab/TangoFlux
```
åœ¨æ­¤ä¹‹å‰éœ€è¦ä¸€äº›å‰ç½®å‡†å¤‡ï¼Œç¡®ä¿ä½ å®‰è£…äº†ï¼š
- Pythonã€pip å’Œ Gitï¼Œå¹¶ä¸”å¯¹å®ƒä»¬ç¨æœ‰äº†è§£ï¼›
- NVIDIA é©±åŠ¨ / CUDA Toolkitï¼›

![Image](https://github.com/user-attachments/assets/b53960b1-ce67-4563-bb35-d98094b91ae1)

## åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒ

æ¥ä¸‹æ¥å¼€å§‹å®‰è£…ï¼Œç¬¬ä¸€æ­¥éœ€è¦åˆ›å»º python è™šæ‹Ÿç¯å¢ƒï¼Œå®‰è£…å‘½ä»¤ä¼šè‡ªåŠ¨å®‰è£…å¾ˆå¤šä¾èµ–é¡¹ï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒæ˜¯ä¸ºäº†ç¡®ä¿æ²¡æœ‰ç‰ˆæœ¬å†²çªï¼Œåœ¨è¿™ä¸ªç¯å¢ƒä¸­åªæœ‰ TangeFlux å’Œå®ƒçš„ä¾èµ–é¡¹ã€‚

``` Js
// åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ / TangoFlux æ˜¯è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒçš„å‘½å
python -m venv TangoFlux

// æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
cd TangeFlue
cd Script
activate
```

![Image](https://github.com/user-attachments/assets/143597d2-b562-47e0-a4b1-a0fb26023480)

## å®‰è£… TangeFlux

æ¥ç€å¼€å§‹æ–‡æ¡£ä¸­çš„æ­¥éª¤ï¼š
``` js
// è‡ªåŠ¨å®‰è£… TangoFlux ä¾èµ–é¡¹
pip install git+https://github.com/declare-lab/TangoFlux
```

``` js
// è¿è¡Œ TangeoFlux
tangoflux-demo
```

åˆ°è¿™é‡Œå°±ç®—å®Œæˆäº†ï¼Œä½†æ˜¯å¤§æ¦‚ç‡ä¼šé‡åˆ° `æ‰¾ä¸åˆ°æŒ‡å®šæ¨¡å— ... fbgemm.dll` æŠ¥é”™ã€‚
![Image](https://github.com/user-attachments/assets/ed730396-66de-42bd-8abe-dccbe7335a36)

è¿™é‡Œå‚è€ƒè¿™ç¯‡æ–‡ç«  [ã€Šè§£å†³â€œOSError: [WinError 126] æ‰¾ä¸åˆ°æŒ‡å®šçš„æ¨¡å—â€ã€‹](https://www.bilibili.com/opus/967745334024339490)

## ä¸‹è½½ dll æ–‡ä»¶ä¾èµ–åˆ†æå·¥å…· Dependencies

[Dependencies](https://github.com/lucasg/Dependencies
) å¸®åŠ© Windows å¼€å‘äººå‘˜è§£å†³ä»–ä»¬çš„ dll åŠ è½½ä¾èµ–å…³ç³»é—®é¢˜ã€‚

![Image](https://github.com/user-attachments/assets/35e2e45e-6b04-49ef-8a39-21996be17dc3)

æ ¹æ®ç³»ç»Ÿä¸‹è½½å¯¹åº”ç‰ˆæœ¬ï¼Œè§£å‹åè¿è¡Œ `DependenciesGui.exe`ï¼ŒFile -> Open æ‰“å¼€æŠ¥é”™ä¿¡æ¯è·¯å¾„ä¸­çš„ fbgemm.ddl æ–‡ä»¶ã€‚

![Image](https://github.com/user-attachments/assets/68074e0f-2b15-4f08-a877-16be75bf05cf)

æ ‡çº¢è¡¨ç¤ºç¼ºå°‘æ–‡ä»¶ï¼Œæ‰“å¼€ [DDLme](https://www.dllme.com/dll/files/libomp140_x86_64/versions)ï¼Œä¸‹è½½å¯¹åº”ç‰ˆæœ¬ã€‚

![Image](https://github.com/user-attachments/assets/597a85f4-48f0-488d-8f80-e3954526268f)

å°†æ–‡ä»¶ä¸­çš„ `libomp140.x86_64.dll` æ–‡ä»¶å¤åˆ¶åˆ°æŠ¥é”™æ–‡ä»¶å¤¹ä¸­ã€‚

é‡æ–°è¿è¡Œ `tangoflux-demo` å°±å®Œæˆå•¦ã€‚

![Image](https://github.com/user-attachments/assets/9f01f76f-b00f-4bd4-8028-fbce37f32d49)

## ä¸ºä»€ä¹ˆç”Ÿæˆé€Ÿåº¦è¶…çº§æ…¢
![Image](https://github.com/user-attachments/assets/2456a2f8-15f2-41b6-a3bc-041bb961a5b8)

![Image](https://github.com/user-attachments/assets/ec9c1c18-87d2-49ff-a2ec-6f636e09ece1)

å½“ä½ å°è¯•ç”ŸæˆéŸ³é¢‘æ—¶ä¼šå‘ç°é€Ÿåº¦è¶…çº§æ…¢ï¼ŒåŸå› åœ¨äºå®ƒå¹¶æ²¡æœ‰è°ƒç”¨ GPUï¼ˆå‘½ä»¤è¡Œä¸­ `nvidia-smi` å¯ä»¥æŸ¥çœ‹ GPU çŠ¶æ€ï¼‰ã€‚

è¿™é‡Œå¤§å®¶çš„å„ç§å·¥å…·ç‰ˆæœ¬ä¸åŒï¼Œå¯ä»¥å€ŸåŠ©ä»»æ„ AI å·¥å…·ç»™å‡ºç›¸åº”çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘åœ¨è¿™é‡Œç”¨åˆ° Grokã€‚

![Image](https://github.com/user-attachments/assets/a70775b1-e274-451a-a675-702b93a2806b)

æ ¸å¿ƒé—®é¢˜åœ¨äºå½“å‰è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…çš„ PyTorch æ˜¯ CPU ç‰ˆæœ¬ï¼Œä¸æ”¯æŒ GPUã€‚

```js
// è¿™é‡Œæ˜¯ç¤ºæ„ï¼Œä½ éœ€è¦æ ¹æ®ä½ çš„ç¯å¢ƒé€‰æ‹©ç›¸åº”çš„ç‰ˆæœ¬

// å…ˆå¸è½½æ‰å½“å‰ CPU ç‰ˆ PyTorch
pip uninstall torch torchvision torchaudio

// å®‰è£…æ”¯æŒ CUDA 12.7 çš„ PyTorch
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121

```

åˆ°è¿™é‡Œå°±å…¨éƒ¨è§£å†³äº†ï¼Œå†æ¬¡è¿è¡Œ `tangoflux-demo` ä¼šå‘ç°é€Ÿåº¦æœ‰äº†æ˜æ˜¾çš„æå‡ã€‚

ä»¥ä¸Šæ˜¯ TanglFlux å®‰è£…ã€æ’æŸ¥ã€è§£å†³é—®é¢˜çš„å…¨è¿‡ç¨‹ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒä»¥ä¸Šæ­¥éª¤å’Œæ–¹æ³•å®Œæˆæœ¬åœ°å®‰è£…ï¼Œç¥é¡ºåˆ© ğŸ»ã€‚













